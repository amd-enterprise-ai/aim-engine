apiVersion: aim.eai.amd.com/v1alpha1
kind: AIMArtifact
metadata:
  name: protocol-fallback
spec:
  sourceUri: hf://test-org/test-model
  size: 10Mi
  env:
    # Protocol sequence: XET fails, then HTTP succeeds
    - name: AIM_DOWNLOADER_PROTOCOL
      value: "XET,HTTP"
    # Enable HF download simulation (no real network)
    - name: AIM_DEBUG_SIMULATE_HF_DOWNLOAD
      value: "true"
    # Make XET fail so HTTP takes over
    - name: AIM_DEBUG_SIMULATE_HF_FAIL_PROTOCOLS
      value: "XET"
    # Fast simulation
    - name: AIM_DEBUG_SIMULATE_HF_DURATION
      value: "2"
    # Small simulated size
    - name: EXPECTED_SIZE_BYTES
      value: "102400"
    # Fast progress updates
    - name: PROGRESS_INTERVAL
      value: "3"
    # Long stall timeout so it doesn't interfere
    - name: STALL_TIMEOUT
      value: "120"
