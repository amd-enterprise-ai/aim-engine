# Default values for aim-engine
# This is a YAML-formatted file.

# Image configuration
image:
  # For production: set registry to ghcr.io or your registry
  # For local dev: leave empty and set repository to your local image name
  registry: ""
  repository: aim-engine
  tag: "latest"  # Override with --set image.tag=<your-tag>
  pullPolicy: IfNotPresent
  # Image digest for supply chain security (optional, overrides tag)
  # digest: "sha256:abcd1234..."

# Global image pull secrets
imagePullSecrets: []

# Create namespace resource (set to false when using --create-namespace flag)
# Best practice: Use 'helm install --create-namespace' instead of this option
createNamespace: false

# Controller manager replicas
replicas: 1

# Resource limits and requests
resources:
  limits:
    memory: 4Gi
  requests:
    cpu: 500m
    memory: 1Gi

# Node selector, affinity and tolerations
nodeSelector: {}
affinity: {}
tolerations: []

# Additional labels and annotations to add to all resources
commonLabels: {}
commonAnnotations: {}

# RBAC Configuration
rbac:
  # Create RBAC resources
  create: true
  # Additional annotations for ServiceAccount
  serviceAccountAnnotations: {}
  # Additional annotations for ClusterRole/Role
  roleAnnotations: {}

# Security settings
security:
  # Pod Security Standards (https://kubernetes.io/docs/concepts/security/pod-security-standards/)
  podSecurityStandards:
    enforce: "restricted"  # restricted, baseline, or privileged
    audit: "restricted"
    warn: "restricted"

  # Additional security context options
  securityContext:
    # Run as specific user (optional)
    runAsUser: 65532  # nobody user
    runAsGroup: 65532
    fsGroup: 65532

